<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Obfuscador Lua</title>
<style>
    body {
        background: #0d0d0d;
        color: #fff;
        font-family: Arial;
        text-align: center;
        padding: 30px;
    }
    .box {
        width: 520px;
        margin: auto;
        padding: 20px;
        background: #1a1a1a;
        border-radius: 10px;
        box-shadow: 0 0 10px #000;
    }
    input {
        margin: 10px;
    }
    button {
        padding: 10px 20px;
        border: none;
        background: #3498db;
        color: white;
        border-radius: 6px;
        cursor: pointer;
    }
    button:hover {
        background: #2980b9;
    }
</style>
</head>
<body>

<h1>ðŸ”’ Obfuscador Lua</h1>

<div class="box">
    <h3>Envie um arquivo .lua para obfuscar</h3>

    <input type="file" id="upload" accept=".lua"><br>
    <button onclick="processar()">Obfuscar</button>

    <pre id="saida" style="text-align:left; white-space:pre-wrap; margin-top:20px;"></pre>
<button onclick="download()">DOWNLOAD</button>
</div>

<script>
// Os nÃ­veis fornecidos pelo usuÃ¡rio
const OBF_LEVELS = {
    1: 'loadstring("\45\45\90\65\15\35\65\75")',
    2: 'loadstring("\45\45\90\65\15\35\90\105\45\70\65\110")',
    3: 'loadstring("\42\67\89\01\04\21\88\24\100\09\05\13\133\109\27\86\90\23\54\48\03\91\23")',
    4: 'loadstring("\21\65\12\53\13\64\28\72\19\95\64\81\82\78\28\86\42\52\76\111\94\121\130\45\12\144\98\001\04\91\58", true)'
};

function processar() {
    const file = document.getElementById('upload').files[0];
    if (!file) return alert("Selecione um arquivo .lua");

    const reader = new FileReader();

    reader.onload = function(evt) {
        const script = evt.target.result;

        // Simples codificaÃ§Ã£o fake sÃ³ para demonstraÃ§Ã£o (nÃ£o Ã© bytecode real)
        const encoded = script
            .split('')
            .map(c => c.charCodeAt(0) + 3)
            .join('-');

        // Loader final baseado na estrutura exÃ³tica fornecida
        const loader = `
local a = [[${encoded}]]
local function decode(str)
    local out = {}
    for num in string.gmatch(str, "(.-)%-") do
        table.insert(out, string.char(tonumber(num)-3))
    end
    return table.concat(out)
end
${OBF_LEVELS[1]}
${OBF_LEVELS[2]}
${OBF_LEVELS[3]}
${OBF_LEVELS[4]}
loadstring(decode(a))()
        `;

        document.getElementById("saida").textContent = loader;
    };

    reader.readAsText(file);
}
function download(){
    const content = document.getElementById('output').textContent;
    const blob = new Blob([content], {type:'text/plain'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'obf

</body>
</html>
