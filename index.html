<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Obfuscador Lua - LEO MODZ</title>
<style>
    body { background: #0f0f0f; color: #fff; font-family: Arial; text-align: center; padding: 30px; }
    .box { width: 500px; margin: auto; padding: 20px; background: #1a1a1a;
           border-radius: 10px; box-shadow: 0 0 10px #000; }
    button { padding: 10px 20px; border: none; background: #3498db; color: white; border-radius: 6px; cursor: pointer; }
    button:hover { background: #2980b9; }
</style>
</head>

<body>
<h1>ðŸ”’ Obfuscador Lua - LEO MODZ</h1>

<div class="box">
    <h3>Envie um arquivo .lua para obfuscar</h3>

    <input type="file" id="upload" accept=".lua">
    <br><br>

    <button onclick="processFile()">Obfuscar</button>

    <p id="status"></p>

    <a id="downloadLink" style="display:none;" download="obfuscated.lua">
        <button>Baixar Arquivo Obfuscado</button>
    </a>
</div>

<script>
function obfuscateLua(original) {

    function dumpBytes(s) {
        let out = [];
        for (let i = 0; i < s.length; i++) {
            out.push(s.charCodeAt(i));
        }
        return out.join(",");
    }

    const encoded = dumpBytes(original);

    return `
-- Obfuscado por LEO MODZ
local b = {${encoded}}

local s = ""
for i = 1, #b do
    s = s .. string.char(b[i])
end

local f = loadstring(s)
if f then
    local ok, err = pcall(f)
    if not ok then
        print("-- erro ao executar script obfuscado:\\n-- " .. tostring(err))
    end
else
    print("-- erro ao decodificar bytecode")
end
`;
}

function processFile() {
    const file = document.getElementById("upload").files[0];
    const status = document.getElementById("status");
    const dLink = document.getElementById("downloadLink");

    if (!file) {
        status.innerHTML = "âš ï¸ Envie um arquivo .lua!";
        return;
    }

    const reader = new FileReader();

    reader.onload = function(e) {
        const content = e.target.result;

        const obf = obfuscateLua(content);

        const blob = new Blob([obf], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        dLink.href = url;
        dLink.style.display = "inline-block";
        status.innerHTML = "âœ”ï¸ Script obfuscado com sucesso!";
    };

    reader.readAsText(file);
}
</script>

</body>
</html>
